(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{426:function(t,s,a){"use strict";a.r(s);var n=a(412),e={mounted(){this.drawTabByEasyScore()},methods:{drawTabByEasyScore(){const t=new n.a.Flow.Factory({renderer:{elementId:"easy_score",width:500,height:200}}),s=t.EasyScore();t.System().addStave({voices:[s.voice(s.notes("C#5/q, B4, A4, G#4",{stem:"up"})),s.voice(s.notes("C#4/h, C#4",{stem:"down"}))]}).addClef("treble").addTimeSignature("4/4"),t.draw()}}},r=a(3),p=Object(r.a)(e,(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("为何选择此插件")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("用来记一些短句谱子🎼咯，而目前有许多音乐曲谱库，像吉他社用的是 alphaTab，比较了一下最终选择了专攻五线谱同时又兼顾了吉他谱的"),s("a",{attrs:{href:"https://www.jianshu.com/p/a4ad9337decb",target:"_blank",rel:"noopener noreferrer"}},[t._v("VexFlow/VexTab"),s("OutboundLink")],1),t._v("。")])]),s("p",[t._v("踩过的坑")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("1.vue 中使用 VexTab 中的方法无法 import 进来，一直是 undefined 报错，看了一下 issues，react、angular 也存在同样的问题。")]),t._v(" "),s("p",[t._v("对策：\n在 VexTab 中的 webpack.config.js 文件的 output 属性添加 libraryTarget: 'umd'，因为最新版 npm 包没发，所以自己重新编译 build 下，覆盖掉即可。")]),t._v(" "),s("p",[t._v("2.vuepress 框架中的 md 文档是可以用 vue 组件的，但引入外部插件会报 window is not defined。大概是由于浏览器的 API 访问限制导致。需要确保在 beforeMount 或者 mounted 访问浏览器/DOM 的 API。")]),t._v(" "),s("p",[t._v("对策：\n使用官网方法"),s("code",[t._v("<ClientOnly>")]),t._v("，但我准备写的动态组件，参数都抽出来了，使用后此方法后参数失效。所以使用官网提供的另一种方法在组件中动态引入。还有种方法通过 enhanceApp.js 直接全局引入。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("dynamicComponent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./lib-that-access-window-on-import'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dynamicComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("3.notation=true 的时候除了六线谱，五线谱也会展示，但会出现有关于音符音高排序的 warning，大概是因为六线谱转换五线谱的问题吧。所以设为 false 就好了")])]),s("p",[t._v("VexFlow 案例")]),t._v(" "),s("div",{attrs:{id:"easy_score"}}),t._v(" "),s("p",[t._v("VexTab 案例")]),t._v(" "),s("VexTab",{attrs:{data:"\n          tabstave notation=false key=A time=4/4\n          notes :q =|: (5/2.5/3.7/4) :8 7-5h6/3 ^3^ 5h6-7/5 ^3^ :q 7V/4 |\n          notes :8 t12p7/4 s5s3/4 :8 3s:16:5-7/5 :q p5/4\n          text :w, |#segno, ,|, :hd, , #tr\n        "}}),t._v(" "),s("p",[t._v("相关链接")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[s("a",{attrs:{href:"https://github.com/0xfe/vexflow",target:"_blank",rel:"noopener noreferrer"}},[t._v("VexFlow"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/0xfe/vextab",target:"_blank",rel:"noopener noreferrer"}},[t._v("VexTab"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"http://vexflow.com/vextab/tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("VexTab 教学案例"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/0xfe/vexchords",target:"_blank",rel:"noopener noreferrer"}},[t._v("VexChords 和弦手型"),s("OutboundLink")],1)])])],1)}),[],!1,null,null,null);s.default=p.exports}}]);